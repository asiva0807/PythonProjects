BGP_Peers = ["172.16.124.19         65032      18647      15672       0       1  1d 0:44:44 Establ",
"172.16.124.20         65032        860        724       0       1     1:08:19 Establ",
"172.16.124.91         65032      18655      15672       0       1  1d 0:44:43 Establ",
"172.16.124.92         65032        856        724       0       1     1:08:17 Establ",
"172.16.126.3          65032      18630      15672       0       1  1d 0:44:44 Establ",
"172.16.126.4          65032        861        724       0       1     1:08:18 Establ",
"172.16.126.11         65032      18649      15673       0       1  1d 0:44:42 Establ",
"172.16.126.12         65032        858        724       0       1     1:08:17 Establ",
"172.16.126.16         20057    1752813    1854137       0       0 17w3d 0:16:11 Establ",
"172.16.126.18         20057    1752831    1854137       0       0 17w3d 0:16:07 Establ",
"172.16.126.25         65022    1854149    1854151       0       0 17w3d 0:17:12 Establ",
"172.16.126.33         65022    1854142    1854147       0       0 17w3d 0:16:41 Establ",
"172.16.126.35         65022    1855109    1855129       0       0 17w3d 0:17:08 Establ",
"172.16.126.36         20057    1753686    1854141       0       0 17w3d 0:16:02 Establ",
"172.16.126.40         20057    1752817    1854151       0       0 17w3d 0:16:26 Establ",
"172.16.126.42         20057    1752832    1854149       0       0 17w3d 0:16:14 Establ",
"172.16.126.49         65022    1854166    1854178       0       0 17w3d 0:17:20 Establ",
"172.16.126.60         20057    1753686    1854140       0       0 17w3d 0:15:58 Establ",
"172.26.96.3           65032      18649      15672       0       1  1d 0:44:44 Establ",
"172.26.96.4           65032        863        724       0       1     1:08:17 Establ",
"172.26.96.11          65032      18630      15672       0       1  1d 0:44:41 Establ",
"172.26.96.12          65032        863        724       0       1     1:08:17 Establ",
"2600:300:2040:88::1       20057    1752812    1854131       0       0 17w3d 0:16:03 Establ",
"2600:300:2040:8a::1       20057    1752828    1854129       0       0 17w3d 0:15:51 Establ",
"2600:300:2040:8c::1       20057    1752808    1854132       0       0 17w3d 0:15:42 Establ",
"2600:300:2040:8e::1       20057    1752828    1854133       0       0 17w3d 0:15:47 Establ",
"2600:300:2040:2701::2       65022    1854691    1854684       0       0 17w3d 0:16:57 Establ",
"2600:300:2040:2702::2       65022    1854133    1854138       0       0 17w3d 0:16:37 Establ",
"2600:300:2040:2703::2       65022    1854145    1854151       0       0 17w3d 0:16:53 Establ",
"2600:300:2040:2704::3       65032      18647      15673       0       1  1d 0:44:44 Establ",
"2600:300:2040:2704::4       65032        862        723       0       1     1:08:17 Active",
"2600:300:2040:2706::3       65032      18624      15671       0       1  1d 0:44:38 Establ",
"2600:300:2040:2706::4       65032        860        724       0       1     1:08:18 Active",
"2600:300:2040:2709::2       65022    1854155    1854161       0       0 17w3d 0:16:45 Establ",
"2600:300:2040:270e::3       65032      18628      15670       0       1  1d 0:44:35 Establ",
"2600:300:2040:270e::4       65032        860        724       0       1     1:08:17 Establ",
"2600:300:2040:2710::3       65032      18657      15672       0       1  1d 0:44:41 Establ",
"2600:300:2040:2710::4       65032          1          0       0       1     1:16:29 Idle (Close in progress)",
"2600:300:2040:2710::4       65032          2          0       0       0       26:37 Active",
"2600:300:2040:2720::1       20057    1753216    1854141       0       0 17w3d 0:15:43 Establ",
"2600:300:2040:2722::1       20057    1753219    1854145       0       0 17w3d 0:16:03 Establ"]


TCPConnection = ["tcp6       0      0  *.*                                           *.*                                           CLOSED",
"tcp6       0      0  2600:300:2040:2703::1.54343                   2600:300:2040:2703::2.179                     ESTABLISHED",
"tcp6       0      0  *.*                                           *.*                                           CLOSED",
"tcp6       0      0  2600:300:2040:2710::1.179                     2600:300:2040:2710::4.43394                   ESTABLISHED",
"tcp6       0      0  *.*                                           *.*                                           CLOSED",
"tcp6       0      0  2600:300:2040:2710::1.179                     2600:300:2040:2710::3.49036                   ESTABLISHED",
"tcp6       0      0  *.*                                           *.*                                           CLOSED",
"tcp6       0      0  2600:300:2040:2706::1.179                     2600:300:2040:2706::4.49347                   ESTABLISHED",
"tcp6       0      0  *.*                                           *.*                                           CLOSED",
"tcp6       0      0  2600:300:2040:2706::1.55885                   2600:300:2040:2706::3.179                     ESTABLISHED",
"tcp6       0      0  *.*                                           *.*                                           CLOSED",
"tcp6       0      0  2600:300:2040:2702::1.62021                   2600:300:2040:2702::2.179                     ESTABLISHED",
"tcp6       0      0  *.*                                           *.*                                           CLOSED",
"tcp6       0      0  2600:300:2040:2709::1.60890                   2600:300:2040:2709::2.179                     ESTABLISHED",
"tcp6       0      0  *.*                                           *.*                                           CLOSED",
"tcp6       0      0  2600:300:2040:270e::1.179                     2600:300:2040:270e::4.40367                   ESTABLISHED",
"tcp6       0      0  *.*                                           *.*                                           CLOSED",
"tcp6       0      0  2600:300:2040:270e::1.58049                   2600:300:2040:270e::3.179                     ESTABLISHED",
"tcp6       0      0  *.*                                           *.*                                           CLOSED",
"tcp6       0      0  2600:300:2040:2704::1.179                     2600:300:2040:2704::4.37101                   ESTABLISHED",
"tcp6       0      0  *.*                                           *.*                                           CLOSED",
"tcp6       0      0  2600:300:2040:2704::1.179                     2600:300:2040:2704::3.39314                   ESTABLISHED",
"tcp6       0      0  *.*                                           *.*                                           CLOSED",
"tcp6       0      0  2600:300:2040:2701::1.49815                   2600:300:2040:2701::2.179                     ESTABLISHED",
"tcp6       0      0  2600:300:2040:2704::1.179                     2600:300:2040:2704::4.37101                   ESTABLISHED",
"tcp6       0      0  2600:300:2040:2704::1.179                     2600:300:2040:2704::4.40367                   FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:2704::1.179                     2600:300:2040:2704::4.49347                   FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:270e::1.58049                   2600:300:2040:270e::3.179                     FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:2706::1.55885                   2600:300:2040:2706::4.179                     FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:2710::1.179                     2600:300:2040:2710::3.49036                   FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:2704::1.179                     2600:300:2040:2704::3.39314                   FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:8c::2.56166                     2600:300:2040:8c::1.179                       FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:2720::2.62917                   2600:300:2040:2720::1.179                     FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:8e::2.55950                     2600:300:2040:8e::1.179                       FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:8a::2.51033                     2600:300:2040:8a::1.179                       FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:88::2.51214                     2600:300:2040:88::1.179                       FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:2722::2.61269                   2600:300:2040:2722::1.179                     FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:2702::1.62021                   2600:300:2040:2702::2.179                     FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:2709::1.60890                   2600:300:2040:2709::2.179                     FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:2703::1.54343                   2600:300:2040:2703::2.179                     FIN_WAIT_1",
"tcp6       0      0  2600:300:2040:2701::1.49815                   2600:300:2040:2701::2.179                     FIN_WAIT_1",
"tcp6       0      0  *.22                                          *.*                                           LISTEN",
"tcp6       0      0  ::1.111                                       *.*                                           LISTEN",
"udp46      0      0  *.58830                                       *.*",
"udp46      0      0  *.161                                         *.*",
"udp46      0      0  *.49152                                       *.*",
"udp46      0      0  *.4784                                        *.*",
"udp46      0      0  *.3784                                        *.*",
"udp46      0      0  *.7784                                        *.*",
"udp46      0      0  *.6784                                        *.*",
"udp46      0      0  *.4784                                        *.*",
"udp46      0      0  *.3784                                        *.*",
"udp46      0      0  *.514                                         *.*",
"udp46      0      0  *.777                                         *.*",
"udp6       0      0  ::1.111                                       *.*"]

brokenPeer = {}
nonEstblBGPLst = []
for node in BGP_Peers:
	if "Establ" not in node:
		if node.split(" ")[0] not in nonEstblBGPLst:
			nonEstblBGPLst.append(node.split(" ")[0])
for TCPPeer in nonEstblBGPLst:
	for peerDet in TCPConnection:
		if ((TCPPeer in peerDet and ".179" in peerDet) and "ESTABLISHED" not in peerDet):
			brokenPeer[TCPPeer] = peerDet.split(" ")[-1]
			break
print(brokenPeer)

